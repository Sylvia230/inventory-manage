import{r as n,j as e,S as u,B as o}from"./index-BVAS8uCo.js";import{F as s}from"./index-DBkfi3mz.js";import{I as r}from"./index-BpOE9vUG.js";import{R as M}from"./SearchOutlined-cd-ZIqc2.js";import{F}from"./Table-_Q0Ze7Xm.js";import{M as x}from"./index-B-u7i6R4.js";import{T as _}from"./index-KX8pTv_G.js";import{s as c}from"./index-uqdkvZpm.js";import"./EyeOutlined-6VNoh7_U.js";import"./Skeleton-cdMzRux_.js";const T="_container_1mvle_1",V="_header_1mvle_6",j={container:T,header:V},K=()=>{const[f,D]=n.useState(!1),[E,g]=n.useState(""),[y,l]=n.useState(!1),[k,i]=n.useState(!1),[a,m]=n.useState(null),[d]=s.useForm(),h=[{id:"1",name:"张三",phone:"13800138000",department:"技术部",position:"前端开发"},{id:"2",name:"李四",phone:"13800138001",department:"技术部",position:"后端开发"},{id:"3",name:"王五",phone:"13800138002",department:"市场部",position:"市场专员"},{id:"4",name:"赵六",phone:"13800138003",department:"人事部",position:"HR专员"}],S=[{title:"姓名",dataIndex:"name",key:"name",width:120},{title:"手机号",dataIndex:"phone",key:"phone",width:150},{title:"部门",dataIndex:"department",key:"department",width:150,render:t=>e.jsx(_,{color:"blue",children:t})},{title:"岗位",dataIndex:"position",key:"position",width:150},{title:"操作",key:"action",width:200,render:(t,p)=>e.jsxs(u,{size:"middle",children:[e.jsx(o,{type:"link",onClick:()=>w(p),children:"编辑"}),e.jsx(o,{type:"link",danger:!0,onClick:()=>b(p),children:"删除"})]})}],w=t=>{m(t),d.setFieldsValue(t),l(!0)},b=t=>{m(t),i(!0)},I=async()=>{try{const t=await d.validateFields();console.log("修改数据:",t),c.success("修改成功"),l(!1)}catch(t){console.error("表单验证失败:",t)}},C=async()=>{try{console.log("删除数据:",a),c.success("删除成功"),i(!1)}catch{c.error("删除失败")}},v=t=>{g(t)};return e.jsxs("div",{className:j.container,children:[e.jsxs("div",{className:j.header,children:[e.jsx(r,{placeholder:"搜索姓名/手机号",prefix:e.jsx(M,{}),onChange:t=>v(t.target.value),style:{width:200}}),e.jsxs(u,{children:[e.jsx(o,{type:"primary",children:"新增部门"}),e.jsx(o,{children:"新增岗位"})]})]}),e.jsx(F,{columns:S,dataSource:h,loading:f,rowKey:"id",pagination:{total:h.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`共 ${t} 条`}}),e.jsx(x,{title:"编辑信息",open:y,onOk:I,onCancel:()=>l(!1),destroyOnClose:!0,children:e.jsxs(s,{form:d,layout:"vertical",initialValues:a||{},children:[e.jsx(s.Item,{name:"name",label:"姓名",rules:[{required:!0,message:"请输入姓名"}],children:e.jsx(r,{placeholder:"请输入姓名"})}),e.jsx(s.Item,{name:"phone",label:"手机号",rules:[{required:!0,message:"请输入手机号"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}],children:e.jsx(r,{placeholder:"请输入手机号",maxLength:11})}),e.jsx(s.Item,{name:"department",label:"部门",rules:[{required:!0,message:"请输入部门"}],children:e.jsx(r,{placeholder:"请输入部门"})}),e.jsx(s.Item,{name:"position",label:"岗位",rules:[{required:!0,message:"请输入岗位"}],children:e.jsx(r,{placeholder:"请输入岗位"})})]})}),e.jsx(x,{title:"删除确认",open:k,onOk:C,onCancel:()=>i(!1),children:e.jsxs("p",{children:["确定要删除 ",a==null?void 0:a.name," 的信息吗？"]})})]})};export{K as default};
