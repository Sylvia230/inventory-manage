import{r as l,_ as I,b as ze,B as _,d as re,e as O,f as Ae,h as We,D as De,i as se,C as A,k as ae,l as w,m as _e,n as Ve,z as He,o as z,p as qe,q as Y,s as Qe,t as ce,v as Xe,w as Ze,x as Ge,y as Ue,A as Ye,E as Je}from"./index-BVAS8uCo.js";import{u as Ke,p as J,S as et,R as tt,a as nt}from"./Skeleton-cdMzRux_.js";import{u as V,R as ie,a as ot}from"./EyeOutlined-6VNoh7_U.js";import{u as ue,D as lt,p as rt,a as st,R as at,P as ct}from"./index-uqdkvZpm.js";function it(){const[e,n]=l.useState([]),r=l.useCallback(t=>(n(o=>[].concat(I(o),[t])),()=>{n(o=>o.filter(c=>c!==t))}),[]);return[e,r]}function W(e){return!!(e!=null&&e.then)}const fe=e=>{const{type:n,children:r,prefixCls:t,buttonProps:o,close:c,autoFocus:v,emitEvent:i,isSilent:a,quitOnNullishReturnValue:b,actionFn:s}=e,u=l.useRef(!1),f=l.useRef(null),[C,y]=ze(!1),m=function(){c==null||c.apply(void 0,arguments)};l.useEffect(()=>{let d=null;return v&&(d=setTimeout(()=>{var x;(x=f.current)===null||x===void 0||x.focus({preventScroll:!0})})),()=>{d&&clearTimeout(d)}},[]);const g=d=>{W(d)&&(y(!0),d.then(function(){y(!1,!0),m.apply(void 0,arguments),u.current=!1},x=>{if(y(!1,!0),u.current=!1,!(a!=null&&a()))return Promise.reject(x)}))},p=d=>{if(u.current)return;if(u.current=!0,!s){m();return}let x;if(i){if(x=s(d),b&&!W(x)){u.current=!1,m(d);return}}else if(s.length)x=s(c),u.current=!1;else if(x=s(),!W(x)){m();return}g(x)};return l.createElement(_,Object.assign({},re(n),{onClick:p,loading:C,prefixCls:t},o,{ref:f}),r)},R=O.createContext({}),{Provider:de}=R,K=()=>{const{autoFocusButton:e,cancelButtonProps:n,cancelTextLocale:r,isSilent:t,mergedOkCancel:o,rootPrefixCls:c,close:v,onCancel:i,onConfirm:a}=l.useContext(R);return o?O.createElement(fe,{isSilent:t,actionFn:i,close:function(){v==null||v.apply(void 0,arguments),a==null||a(!1)},autoFocus:e==="cancel",buttonProps:n,prefixCls:`${c}-btn`},r):null},ee=()=>{const{autoFocusButton:e,close:n,isSilent:r,okButtonProps:t,rootPrefixCls:o,okTextLocale:c,okType:v,onConfirm:i,onOk:a}=l.useContext(R);return O.createElement(fe,{isSilent:r,type:v||"primary",actionFn:a,close:function(){n==null||n.apply(void 0,arguments),i==null||i(!0)},autoFocus:e==="ok",buttonProps:t,prefixCls:`${o}-btn`},c)},ut=()=>Ae()&&window.document.documentElement;function te(){}const ft=l.createContext({add:te,remove:te});function dt(e){const n=l.useContext(ft),r=l.useRef(null);return We(o=>{if(o){const c=e?o.querySelector(e):o;n.add(c),r.current=c}else n.remove(r.current)})}const ne=()=>{const{cancelButtonProps:e,cancelTextLocale:n,onCancel:r}=l.useContext(R);return O.createElement(_,Object.assign({onClick:r},e),n)},oe=()=>{const{confirmLoading:e,okButtonProps:n,okType:r,okTextLocale:t,onOk:o}=l.useContext(R);return O.createElement(_,Object.assign({},re(r),{loading:e,onClick:o},n),t)};function me(e,n){return O.createElement("span",{className:`${e}-close-x`},n||O.createElement(ie,{className:`${e}-close-icon`}))}const Ce=e=>{const{okText:n,okType:r="primary",cancelText:t,confirmLoading:o,onOk:c,onCancel:v,okButtonProps:i,cancelButtonProps:a,footer:b}=e,[s]=V("Modal",se()),u=n||(s==null?void 0:s.okText),f=t||(s==null?void 0:s.cancelText),C={confirmLoading:o,okButtonProps:i,cancelButtonProps:a,okTextLocale:u,cancelTextLocale:f,okType:r,onOk:c,onCancel:v},y=O.useMemo(()=>C,I(Object.values(C)));let m;return typeof b=="function"||typeof b>"u"?(m=O.createElement(O.Fragment,null,O.createElement(ne,null),O.createElement(oe,null)),typeof b=="function"&&(m=b(m,{OkBtn:oe,CancelBtn:ne})),m=O.createElement(de,{value:y},m)):m=b,O.createElement(De,{disabled:!1},m)};var mt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};let D;const Ct=e=>{D={x:e.pageX,y:e.pageY},setTimeout(()=>{D=null},100)};ut()&&document.documentElement.addEventListener("click",Ct,!0);const ge=e=>{const{prefixCls:n,className:r,rootClassName:t,open:o,wrapClassName:c,centered:v,getContainer:i,focusTriggerAfterClose:a=!0,style:b,visible:s,width:u=520,footer:f,classNames:C,styles:y,children:m,loading:g,confirmLoading:p,zIndex:d,mousePosition:x,onOk:E,onCancel:P}=e,k=mt(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel"]),{getPopupContainer:M,getPrefixCls:N,direction:je,modal:h}=l.useContext(A),H=T=>{p||P==null||P(T)},Te=T=>{E==null||E(T)},$=N("modal",n),q=N(),Q=ae($),[we,X,Ie]=ue($,Q),Se=w(c,{[`${$}-centered`]:v??(h==null?void 0:h.centered),[`${$}-wrap-rtl`]:je==="rtl"}),Ne=f!==null&&!g?l.createElement(Ce,Object.assign({},e,{onOk:Te,onCancel:H})):null,[Z,G,ke]=Ke(J(e),J(h),{closable:!0,closeIcon:l.createElement(ie,{className:`${$}-close-icon`}),closeIconRender:T=>me($,T)}),Re=dt(`.${$}-content`),[Fe,Me]=_e("Modal",d),[Be,B]=l.useMemo(()=>u&&typeof u=="object"?[void 0,u]:[u,void 0],[u]),Le=l.useMemo(()=>{const T={};return B&&Object.keys(B).forEach(U=>{const L=B[U];L!==void 0&&(T[`--${$}-${U}-width`]=typeof L=="number"?`${L}px`:L)}),T},[B]);return we(l.createElement(Ve,{form:!0,space:!0},l.createElement(He.Provider,{value:Me},l.createElement(lt,Object.assign({width:Be},k,{zIndex:Fe,getContainer:i===void 0?M:i,prefixCls:$,rootClassName:w(X,t,Ie,Q),footer:Ne,visible:o??s,mousePosition:x??D,onClose:H,closable:Z&&{disabled:ke,closeIcon:G},closeIcon:G,focusTriggerAfterClose:a,transitionName:z(q,"zoom",e.transitionName),maskTransitionName:z(q,"fade",e.maskTransitionName),className:w(X,r,h==null?void 0:h.className),style:Object.assign(Object.assign(Object.assign({},h==null?void 0:h.style),b),Le),classNames:Object.assign(Object.assign(Object.assign({},h==null?void 0:h.classNames),C),{wrapper:w(Se,C==null?void 0:C.wrapper)}),styles:Object.assign(Object.assign({},h==null?void 0:h.styles),y),panelRef:Re}),g?l.createElement(et,{active:!0,title:!1,paragraph:{rows:4},className:`${$}-body-skeleton`}):m))))},gt=e=>{const{componentCls:n,titleFontSize:r,titleLineHeight:t,modalConfirmIconSize:o,fontSize:c,lineHeight:v,modalTitleHeight:i,fontHeight:a,confirmBodyPadding:b}=e,s=`${n}-confirm`;return{[s]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${s}-body-wrapper`]:Object.assign({},Qe()),[`&${n} ${n}-body`]:{padding:b},[`${s}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:o,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(a).sub(o).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(i).sub(o).equal()).div(2).equal()}},[`${s}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${Y(e.marginSM)})`},[`${e.iconCls} + ${s}-paragraph`]:{maxWidth:`calc(100% - ${Y(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${s}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:r,lineHeight:t},[`${s}-content`]:{color:e.colorText,fontSize:c,lineHeight:v},[`${s}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${s}-error ${s}-body > ${e.iconCls}`]:{color:e.colorError},[`${s}-warning ${s}-body > ${e.iconCls},
        ${s}-confirm ${s}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${s}-info ${s}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${s}-success ${s}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},vt=qe(["Modal","confirm"],e=>{const n=rt(e);return[gt(n)]},st,{order:-1e3});var pt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};function ve(e){const{prefixCls:n,icon:r,okText:t,cancelText:o,confirmPrefixCls:c,type:v,okCancel:i,footer:a,locale:b}=e,s=pt(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let u=r;if(!r&&r!==null)switch(v){case"info":u=l.createElement(at,null);break;case"success":u=l.createElement(nt,null);break;case"error":u=l.createElement(ot,null);break;default:u=l.createElement(tt,null)}const f=i??v==="confirm",C=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[y]=V("Modal"),m=b||y,g=t||(f?m==null?void 0:m.okText:m==null?void 0:m.justOkText),p=o||(m==null?void 0:m.cancelText),d=Object.assign({autoFocusButton:C,cancelTextLocale:p,okTextLocale:g,mergedOkCancel:f},s),x=l.useMemo(()=>d,I(Object.values(d))),E=l.createElement(l.Fragment,null,l.createElement(K,null),l.createElement(ee,null)),P=e.title!==void 0&&e.title!==null,k=`${c}-body`;return l.createElement("div",{className:`${c}-body-wrapper`},l.createElement("div",{className:w(k,{[`${k}-has-title`]:P})},u,l.createElement("div",{className:`${c}-paragraph`},P&&l.createElement("span",{className:`${c}-title`},e.title),l.createElement("div",{className:`${c}-content`},e.content))),a===void 0||typeof a=="function"?l.createElement(de,{value:x},l.createElement("div",{className:`${c}-btns`},typeof a=="function"?a(E,{OkBtn:ee,CancelBtn:K}):E)):a,l.createElement(vt,{prefixCls:n}))}const bt=e=>{const{close:n,zIndex:r,maskStyle:t,direction:o,prefixCls:c,wrapClassName:v,rootPrefixCls:i,bodyStyle:a,closable:b=!1,onConfirm:s,styles:u}=e,f=`${c}-confirm`,C=e.width||416,y=e.style||{},m=e.mask===void 0?!0:e.mask,g=e.maskClosable===void 0?!1:e.maskClosable,p=w(f,`${f}-${e.type}`,{[`${f}-rtl`]:o==="rtl"},e.className),[,d]=Xe(),x=l.useMemo(()=>r!==void 0?r:d.zIndexPopupBase+Ze,[r,d]);return l.createElement(ge,Object.assign({},e,{className:p,wrapClassName:w({[`${f}-centered`]:!!e.centered},v),onCancel:()=>{n==null||n({triggerCancel:!0}),s==null||s(!1)},title:"",footer:null,transitionName:z(i||"","zoom",e.transitionName),maskTransitionName:z(i||"","fade",e.maskTransitionName),mask:m,maskClosable:g,style:y,styles:Object.assign({body:a,mask:t},u),width:C,zIndex:x,closable:b}),l.createElement(ve,Object.assign({},e,{confirmPrefixCls:f})))},pe=e=>{const{rootPrefixCls:n,iconPrefixCls:r,direction:t,theme:o}=e;return l.createElement(ce,{prefixCls:n,iconPrefixCls:r,direction:t,theme:o},l.createElement(bt,Object.assign({},e)))},S=[];let be="";function xe(){return be}const xt=e=>{var n,r;const{prefixCls:t,getContainer:o,direction:c}=e,v=se(),i=l.useContext(A),a=xe()||i.getPrefixCls(),b=t||`${a}-modal`;let s=o;return s===!1&&(s=void 0),O.createElement(pe,Object.assign({},e,{rootPrefixCls:a,prefixCls:b,iconPrefixCls:i.iconPrefixCls,theme:i.theme,direction:c??i.direction,locale:(r=(n=i.locale)===null||n===void 0?void 0:n.Modal)!==null&&r!==void 0?r:v,getContainer:s}))};function F(e){const n=Ge(),r=document.createDocumentFragment();let t=Object.assign(Object.assign({},e),{close:a,open:!0}),o,c;function v(){for(var s,u=arguments.length,f=new Array(u),C=0;C<u;C++)f[C]=arguments[C];if(f.some(g=>g==null?void 0:g.triggerCancel)){var m;(s=e.onCancel)===null||s===void 0||(m=s).call.apply(m,[e,()=>{}].concat(I(f.slice(1))))}for(let g=0;g<S.length;g++)if(S[g]===a){S.splice(g,1);break}c()}function i(s){clearTimeout(o),o=setTimeout(()=>{const u=n.getPrefixCls(void 0,xe()),f=n.getIconPrefixCls(),C=n.getTheme(),y=O.createElement(xt,Object.assign({},s));c=Ue()(O.createElement(ce,{prefixCls:u,iconPrefixCls:f,theme:C},n.holderRender?n.holderRender(y):y),r)})}function a(){for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];t=Object.assign(Object.assign({},t),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),v.apply(this,u)}}),t.visible&&delete t.visible,i(t)}function b(s){typeof s=="function"?t=s(t):t=Object.assign(Object.assign({},t),s),i(t)}return i(t),S.push(a),{destroy:a,update:b}}function ye(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Oe(e){return Object.assign(Object.assign({},e),{type:"info"})}function he(e){return Object.assign(Object.assign({},e),{type:"success"})}function Pe(e){return Object.assign(Object.assign({},e),{type:"error"})}function Ee(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function yt(e){let{rootPrefixCls:n}=e;be=n}var Ot=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const ht=(e,n)=>{var r,{afterClose:t,config:o}=e,c=Ot(e,["afterClose","config"]);const[v,i]=l.useState(!0),[a,b]=l.useState(o),{direction:s,getPrefixCls:u}=l.useContext(A),f=u("modal"),C=u(),y=()=>{var d;t(),(d=a.afterClose)===null||d===void 0||d.call(a)},m=function(){var d;i(!1);for(var x=arguments.length,E=new Array(x),P=0;P<x;P++)E[P]=arguments[P];if(E.some(N=>N==null?void 0:N.triggerCancel)){var M;(d=a.onCancel)===null||d===void 0||(M=d).call.apply(M,[a,()=>{}].concat(I(E.slice(1))))}};l.useImperativeHandle(n,()=>({destroy:m,update:d=>{b(x=>Object.assign(Object.assign({},x),d))}}));const g=(r=a.okCancel)!==null&&r!==void 0?r:a.type==="confirm",[p]=V("Modal",Ye.Modal);return l.createElement(pe,Object.assign({prefixCls:f,rootPrefixCls:C},a,{close:m,open:v,afterClose:y,okText:a.okText||(g?p==null?void 0:p.okText:p==null?void 0:p.justOkText),direction:a.direction||s,cancelText:a.cancelText||(p==null?void 0:p.cancelText)},c))},Pt=l.forwardRef(ht);let le=0;const Et=l.memo(l.forwardRef((e,n)=>{const[r,t]=it();return l.useImperativeHandle(n,()=>({patchElement:t}),[]),l.createElement(l.Fragment,null,r)}));function $t(){const e=l.useRef(null),[n,r]=l.useState([]);l.useEffect(()=>{n.length&&(I(n).forEach(v=>{v()}),r([]))},[n]);const t=l.useCallback(c=>function(i){var a;le+=1;const b=l.createRef();let s;const u=new Promise(g=>{s=g});let f=!1,C;const y=l.createElement(Pt,{key:`modal-${le}`,config:c(i),ref:b,afterClose:()=>{C==null||C()},isSilent:()=>f,onConfirm:g=>{s(g)}});return C=(a=e.current)===null||a===void 0?void 0:a.patchElement(y),C&&S.push(C),{destroy:()=>{function g(){var p;(p=b.current)===null||p===void 0||p.destroy()}b.current?g():r(p=>[].concat(I(p),[g]))},update:g=>{function p(){var d;(d=b.current)===null||d===void 0||d.update(g)}b.current?p():r(d=>[].concat(I(d),[p]))},then:g=>(f=!0,u.then(g))}},[]);return[l.useMemo(()=>({info:t(Oe),success:t(he),error:t(Pe),warning:t(ye),confirm:t(Ee)}),[]),l.createElement(Et,{key:"modal-holder",ref:e})]}var jt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const Tt=e=>{const{prefixCls:n,className:r,closeIcon:t,closable:o,type:c,title:v,children:i,footer:a}=e,b=jt(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:s}=l.useContext(A),u=s(),f=n||s("modal"),C=ae(u),[y,m,g]=ue(f,C),p=`${f}-confirm`;let d={};return c?d={closable:o??!1,title:"",footer:"",children:l.createElement(ve,Object.assign({},e,{prefixCls:f,confirmPrefixCls:p,rootPrefixCls:u,content:i}))}:d={closable:o??!0,title:v,footer:a!==null&&l.createElement(Ce,Object.assign({},e)),children:i},y(l.createElement(ct,Object.assign({prefixCls:f,className:w(m,`${f}-pure-panel`,c&&p,c&&`${p}-${c}`,r,g,C)},b,{closeIcon:me(f,t),closable:o},d)))},wt=Je(Tt);function $e(e){return F(ye(e))}const j=ge;j.useModal=$t;j.info=function(n){return F(Oe(n))};j.success=function(n){return F(he(n))};j.error=function(n){return F(Pe(n))};j.warning=$e;j.warn=$e;j.confirm=function(n){return F(Ee(n))};j.destroyAll=function(){for(;S.length;){const n=S.pop();n&&n()}};j.config=yt;j._InternalPanelDoNotUseOrYouWillBeFired=wt;export{j as M};
