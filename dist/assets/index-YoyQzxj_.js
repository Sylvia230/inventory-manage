import{r as u,b as y,j as e,S as p,C as b,c as I,T as w}from"./index-DRPHcA5R.js";import{D as s}from"./index-CkJG2kDK.js";import{T as h}from"./index-D5bt7Jyd.js";import{I as m}from"./index-BjENZz-U.js";import{F as x}from"./Table-CLghJ34T.js";import"./styleChecker-VBj3MALj.js";import"./index-BTE1MxX-.js";var k={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};function j(){return j=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var a=arguments[i];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},j.apply(this,arguments)}const f=(t,i)=>u.createElement(y,j({},t,{ref:i,icon:k})),v=u.forwardRef(f),S=({orderDetail:t})=>{var a;const i=[{label:"保证金",key:"depositVoucher"},{label:"本息",key:"principalInterestVoucher"},{label:"服务费",key:"serviceFeeVoucher"},{label:"仓储费",key:"storageFeeVoucher"},{label:"物流费",key:"logisticsFeeVoucher"}];return e.jsxs(s,{bordered:!0,children:[e.jsx(s.Item,{label:"订单号",span:3,children:t.orderNumber}),e.jsx(s.Item,{label:"产品名称",span:3,children:t.productName}),e.jsx(s.Item,{label:"产品类型",span:3,children:t.productType}),e.jsx(s.Item,{label:"申请时间",span:3,children:t.applyTime}),e.jsx(s.Item,{label:"申请单状态",span:3,children:e.jsx(h,{color:t.status==="pending"?"orange":t.status==="approved"?"green":t.status==="rejected"?"red":"default",children:t.status==="pending"?"待审核":t.status==="approved"?"已通过":t.status==="rejected"?"已拒绝":t.status})}),e.jsx(s.Item,{label:"经销商",span:3,children:t.dealer}),e.jsx(s.Item,{label:"经销商业务经理",span:3,children:t.dealerManager}),e.jsx(s.Item,{label:"申请人",span:3,children:t.applicant}),e.jsx(s.Item,{label:"经销商联系方式",span:3,children:t.dealerContact}),e.jsx(s.Item,{label:"经销商经营范围",span:3,children:t.dealerBusinessScope}),e.jsx(s.Item,{label:"供应商",span:3,children:t.supplier}),e.jsx(s.Item,{label:"联系人",span:3,children:t.supplierContact}),e.jsx(s.Item,{label:"供应商联系方式",span:3,children:t.supplierContactInfo}),i.map(({label:o,key:l})=>{var d;return e.jsx(s.Item,{label:`${o}凭证`,span:3,children:e.jsx(p,{children:(d=t[l])==null?void 0:d.map((r,n)=>e.jsx(m,{width:100,height:100,src:r,alt:`${o}凭证${n+1}`,style:{objectFit:"cover"}},n))})},l)}),e.jsx(s.Item,{label:"其他照片",span:3,children:e.jsx(p,{children:(a=t.otherPhotos)==null?void 0:a.map((o,l)=>e.jsx(m,{width:100,height:100,src:o,alt:`其他照片${l+1}`,style:{objectFit:"cover"}},l))})})]})},A=({vehicle:t})=>{var i,a,o;return e.jsx("div",{style:{padding:"16px"},children:e.jsxs(p,{direction:"vertical",size:"large",style:{width:"100%"},children:[t.inspectionPhotos&&t.inspectionPhotos.length>0&&e.jsx(s,{title:"验车照片",bordered:!0,children:e.jsx(s.Item,{span:3,children:e.jsx(p,{wrap:!0,children:(i=t.inspectionPhotos)==null?void 0:i.map((l,d)=>e.jsx(m,{width:200,height:150,src:l,alt:`验车照片${d+1}`,style:{objectFit:"cover"}},d))})})}),t.damagePhotos&&t.damagePhotos.length>0&&e.jsx(s,{title:"质损照片",bordered:!0,children:e.jsx(s.Item,{span:3,children:e.jsx(p,{wrap:!0,children:(a=t.damagePhotos)==null?void 0:a.map((l,d)=>e.jsx(m,{width:200,height:150,src:l,alt:`质损照片${d+1}`,style:{objectFit:"cover"}},d))})})}),t.documents&&t.documents.length>0&&e.jsx(s,{title:"资料信息",bordered:!0,children:(o=t.documents)==null?void 0:o.map((l,d)=>e.jsx(s.Item,{label:l.name,span:3,children:e.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",children:"查看文件"})},d))})]})})},R=({orderDetail:t})=>{var d;const[i,a]=u.useState([]),o=[{title:"车辆ID",dataIndex:"id",key:"id",width:80,render:(r,n)=>n.isExpandRow?{children:e.jsxs(p,{children:[e.jsx(v,{rotate:i.includes(n.id)?90:0}),"验车照片/质损照片/资料信息"]}),props:{colSpan:o.length}}:r},{title:"车辆状态",dataIndex:"status",key:"status",width:80,render:(r,n)=>{if(n.isExpandRow)return{props:{colSpan:0}};const c=n;return e.jsx(h,{color:c.status==="in_stock"?"green":c.status==="in_transit"?"blue":c.status==="delivered"?"purple":"default",children:c.status==="in_stock"?"在库":c.status==="in_transit"?"运输中":c.status==="delivered"?"已交付":c.status})}},{title:"车架号",dataIndex:"vin",key:"vin",width:180,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:n.vin},{title:"车规",dataIndex:"specification",key:"specification",width:80,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:n.specification},{title:"车型",dataIndex:"model",key:"model",width:80,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:n.model},{title:"外观/内饰",dataIndex:"appearance",key:"appearance",width:150,render:(r,n)=>{if(n.isExpandRow)return{props:{colSpan:0}};const c=n;return e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsxs("span",{children:["外观：",c.appearance]}),e.jsxs("span",{children:["内饰：",c.interior]})]})}},{title:"厂商指导价",dataIndex:"msrp",key:"msrp",width:120,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:`¥${n.msrp.toLocaleString()}`},{title:"核价金额",dataIndex:"appraisedPrice",key:"appraisedPrice",width:120,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:`¥${n.appraisedPrice.toLocaleString()}`},{title:"保证金",dataIndex:"deposit",key:"deposit",width:120,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:`¥${n.deposit.toLocaleString()}`},{title:"保证金比例",dataIndex:"depositRate",key:"depositRate",width:120,render:(r,n)=>n.isExpandRow?{props:{colSpan:0}}:`${n.depositRate}%`},{title:"合同单价/定金",key:"contract",width:150,render:(r,n)=>{if(n.isExpandRow)return{props:{colSpan:0}};const c=n;return e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsxs("span",{children:["单价：¥",c.contractPrice.toLocaleString()]}),e.jsxs("span",{children:["定金：¥",c.downPayment.toLocaleString()]})]})}}],l=r=>{var c;if(!r.isExpandRow)return null;const n=(c=t.vehicles)==null?void 0:c.find(g=>g.id===r.vehicleId);return n?e.jsx(A,{vehicle:n}):null};return e.jsx(p,{direction:"vertical",size:"large",style:{width:"100%"},children:(d=t==null?void 0:t.vehicles)==null?void 0:d.map((r,n)=>e.jsx(b,{title:`车辆 ${n+1}`,style:{marginBottom:16},children:e.jsx(x,{columns:o,dataSource:[r,{id:`${r.id}-expand`,isExpandRow:!0,vehicleId:r.id}],rowKey:"id",pagination:!1,scroll:{x:"max-content"},expandable:{expandedRowRender:l,rowExpandable:c=>c.isExpandRow===!0,expandedRowKeys:i,onExpand:(c,g)=>{a(c?[g.id]:[])}}})},r.id))})},P=({orderDetail:t})=>{const i=[{title:"车型",dataIndex:"model",key:"model",width:150},{title:"车架号",dataIndex:"vin",key:"vin",width:180},{title:"仓库",dataIndex:"warehouseName",key:"warehouseName",width:150},{title:"联系人/电话",key:"contact",width:180,render:(a,o)=>e.jsxs(p,{direction:"vertical",size:"small",children:[e.jsxs("span",{children:["联系人：",o.contactPerson]}),e.jsxs("span",{children:["电话：",o.contactPhone]})]})},{title:"仓库地址",dataIndex:"warehouseAddress",key:"warehouseAddress",width:200},{title:"出库时间",dataIndex:"outboundTime",key:"outboundTime",width:180},{title:"入库时间",dataIndex:"inboundTime",key:"inboundTime",width:180}];return e.jsx(x,{columns:i,dataSource:t.storageInfo||[],rowKey:"vin",pagination:!1,scroll:{x:"max-content"}})},T=({orderDetail:t})=>{const i=[{title:"车型",dataIndex:"model",key:"model",width:150},{title:"车架号",dataIndex:"vin",key:"vin",width:180},{title:"物流公司",dataIndex:"logisticsCompany",key:"logisticsCompany",width:150},{title:"运单号",dataIndex:"trackingNumber",key:"trackingNumber",width:180},{title:"发货时间",dataIndex:"deliveryTime",key:"deliveryTime",width:180},{title:"预计送达时间",dataIndex:"estimatedDeliveryTime",key:"estimatedDeliveryTime",width:180},{title:"物流状态",dataIndex:"logisticsStatus",key:"logisticsStatus",width:120,render:a=>e.jsx(h,{color:a==="in_transit"?"blue":a==="delivered"?"green":a==="exception"?"red":"default",children:a==="in_transit"?"运输中":a==="delivered"?"已送达":a==="exception"?"异常":a})}];return e.jsx(x,{columns:i,dataSource:t.logisticsInfo||[],rowKey:"vin",pagination:!1,scroll:{x:"max-content"}})},C=({orderDetail:t})=>{const i=[{title:"结算单号",dataIndex:"settlementNumber",key:"settlementNumber",width:180},{title:"结算金额",dataIndex:"settlementAmount",key:"settlementAmount",width:150,render:a=>`¥${a.toLocaleString()}`},{title:"结算状态",dataIndex:"settlementStatus",key:"settlementStatus",width:120,render:a=>e.jsx(h,{color:a==="pending"?"orange":a==="completed"?"green":a==="failed"?"red":"default",children:a==="pending"?"待结算":a==="completed"?"已结算":a==="failed"?"结算失败":a})},{title:"结算时间",dataIndex:"settlementTime",key:"settlementTime",width:180}];return e.jsx(x,{columns:i,dataSource:t.settlementInfo||[],rowKey:"settlementNumber",pagination:!1,scroll:{x:"max-content"}})},E=({orderDetail:t})=>{const i=[{key:"disbursementAccount",label:"出款账户"},{key:"supplierCollectionAccount",label:"供应商收款账户"},{key:"dealerRepaymentAccount",label:"经销商还款账户"},{key:"capitalCollectionAccount",label:"资方收款账户"},{key:"marginCollectionAccount",label:"保证金收款账户"},{key:"serviceFeeCollectionAccount",label:"服务费收款账户"},{key:"storageFeeCollectionAccount",label:"仓储费收款账户"},{key:"logisticsFeeCollectionAccount",label:"物流费收款账户"}];return e.jsx(p,{direction:"vertical",size:"large",style:{width:"100%"},children:i.map(a=>{const o=t[a.key];return o?e.jsxs(s,{title:a.label,bordered:!0,style:{marginBottom:24},children:[e.jsx(s.Item,{label:"户名",span:3,children:o.accountName}),e.jsx(s.Item,{label:"账号",span:3,children:o.bankAccount}),e.jsx(s.Item,{label:"开户行",span:3,children:o.openingBank})]},a.key):null})})},K=()=>{const{id:t}=I(),[i,a]=u.useState({id:"1",orderNumber:"YH202411060879036513",productName:"奥迪A4L",productType:"轿车",applyTime:"2024-11-06 16:24:22",status:"pending",dealer:"上海安趣盈科技有限公司",dealerManager:"巧莹",applicant:"黄巧莹",dealerContact:"17816869350",dealerBusinessScope:"汽车销售",supplier:"上海喜马拉雅科技有限公司",supplierContact:"黄巧莹",supplierContactInfo:"17816869523",depositVoucher:["https://example.com/deposit1.jpg"],principalInterestVoucher:["https://example.com/principal1.jpg"],serviceFeeVoucher:["https://example.com/service1.jpg"],storageFeeVoucher:["https://example.com/storage1.jpg"],logisticsFeeVoucher:["https://example.com/logistics1.jpg"],otherPhotos:["https://example.com/other1.jpg"],vehicles:[{id:"1",status:"normal",vin:"LVGBE40K8GP123456",specification:"2.0T 自动 豪华型",model:"奥迪A4L 2020款 35 TFSI 时尚动感型",appearance:"白色",interior:"黑色",msrp:32e4,appraisedPrice:3e5,deposit:3e4,depositRate:.1,contractPrice:17e4,downPayment:5e4,inspectionPhotos:["https://example.com/inspection1.jpg"],damagePhotos:["https://example.com/damage1.jpg"],documents:[{name:"车辆登记证",url:"https://example.com/registration.pdf"}]},{id:"2",status:"normal",vin:"LVGBE40K8GP123457",specification:"1.5T 手动 舒适型",model:"宝骏530 2021款 全球车周年纪念版 1.5T 手动舒适型 5座",appearance:"红色",interior:"米色",msrp:15e4,appraisedPrice:14e4,deposit:15e3,depositRate:.1,contractPrice:12e4,downPayment:3e4,inspectionPhotos:["https://example.com/inspection2.jpg"],damagePhotos:["https://example.com/damage2.jpg"],documents:[{name:"车辆登记证",url:"https://example.com/registration2.pdf"}]}],storageInfo:[{model:"奥迪A4L 2020款 35 TFSI 时尚动感型",vin:"LVGBE40K8GP123456",warehouseName:"上海仓库",contactPerson:"张经理",contactPhone:"13800138000",warehouseAddress:"上海市浦东新区XX路XX号",outboundTime:"2024-11-07 10:00:00",inboundTime:"2024-11-06 15:00:00"}],logisticsInfo:[{model:"奥迪A4L 2020款 35 TFSI 时尚动感型",vin:"LVGBE40K8GP123456",logisticsCompany:"顺丰速运",trackingNumber:"SF1234567890",deliveryTime:"2024-11-08 14:00:00",estimatedDeliveryTime:"2024-11-08 16:00:00",logisticsStatus:"运输中"}],settlementInfo:[{settlementNumber:"JS202411060001",settlementAmount:17e4,settlementStatus:"待结算",settlementTime:"2024-11-06 16:24:22"}],accountInfo:{accountName:"张三汽车销售有限公司",openingBank:"中国工商银行",bankAccount:"6222020300012345678",accountStatus:"normal"},disbursementAccount:{accountName:"出款公司",bankAccount:"6222020300098765432",openingBank:"中国建设银行"},supplierCollectionAccount:{accountName:"供应商A",bankAccount:"6222020300011223344",openingBank:"中国农业银行"},dealerRepaymentAccount:{accountName:"经销商B",bankAccount:"6222020300055667788",openingBank:"中国银行"},capitalCollectionAccount:{accountName:"资方C",bankAccount:"6222020300099887766",openingBank:"招商银行"},marginCollectionAccount:{accountName:"保证金专用",bankAccount:"6222020300011122233",openingBank:"浦发银行"},serviceFeeCollectionAccount:{accountName:"服务费专用",bankAccount:"6222020300044455566",openingBank:"交通银行"},storageFeeCollectionAccount:{accountName:"仓储费专用",bankAccount:"6222020300077788899",openingBank:"中信银行"},logisticsFeeCollectionAccount:{accountName:"物流费专用",bankAccount:"6222020300000011122",openingBank:"光大银行"}}),o=[{key:"basic",label:"基本信息",children:e.jsx(S,{orderDetail:i})},{key:"vehicle",label:"车辆信息",children:e.jsx(R,{orderDetail:i})},{key:"storage",label:"仓储信息",children:e.jsx(P,{orderDetail:i})},{key:"logistics",label:"物流信息",children:e.jsx(T,{orderDetail:i})},{key:"settlement",label:"结算信息",children:e.jsx(C,{orderDetail:i})},{key:"account",label:"账户信息",children:e.jsx(E,{orderDetail:i})}];return e.jsx("div",{style:{padding:"24px"},children:e.jsx(b,{style:{marginTop:"24px"},children:e.jsx(w,{items:o})})})};export{K as default};
