import{r as i,b as A,F as l,j as e,R as b,a as c,I as g,S as I,B as d,M as w,s as k}from"./index-DRPHcA5R.js";import{S}from"./index-BTE1MxX-.js";import{R as H}from"./SearchOutlined-Djkt78J-.js";import{R as $}from"./ReloadOutlined-C1EXkO3r.js";import{F as _}from"./Table-CLghJ34T.js";import{T as B}from"./index-D5bt7Jyd.js";import{R as E}from"./DollarOutlined-J_AYFuVs.js";import{R as J}from"./EyeOutlined-D0XpQMAl.js";import{D as L}from"./index-DSEt_ENV.js";import"./styleChecker-VBj3MALj.js";var D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"};function x(){return x=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},x.apply(this,arguments)}const N=(n,a)=>i.createElement(A,x({},n,{ref:a,icon:D})),Q=i.forwardRef(N),q="_container_1iukc_1",R={container:q},{RangePicker:ne}=L,ae=()=>{const[n]=l.useForm(),[a,r]=i.useState(!1),[o,u]=i.useState(!1),[T,m]=i.useState(!1),[p,j]=i.useState(null),v=[{label:"采购结算",value:"purchase"},{label:"销售结算",value:"sale"},{label:"服务费结算",value:"service"},{label:"其他",value:"other"}],f=[{label:"待审核",value:"pending"},{label:"审核中",value:"processing"},{label:"已通过",value:"approved"},{label:"已拒绝",value:"rejected"}],C=[{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180},{title:"结算单号",dataIndex:"settlementId",key:"settlementId",width:180},{title:"结算类型",dataIndex:"settlementType",key:"settlementType",width:120,render:t=>{const s=v.find(h=>h.value===t);return s?s.label:t}},{title:"车架号",dataIndex:"vin",key:"vin",width:180},{title:"合作方",dataIndex:"partner",key:"partner",width:150},{title:"结算方",dataIndex:"settlementParty",key:"settlementParty",width:150},{title:"金额",dataIndex:"amount",key:"amount",width:120,render:t=>`¥${t.toFixed(2)}`},{title:"状态",dataIndex:"status",key:"status",width:100,render:t=>{const s=f.find(P=>P.value===t),h={pending:"orange",processing:"blue",approved:"green",rejected:"red"};return s?e.jsx(B,{color:h[t],children:s.label}):t}},{title:"操作",key:"action",fixed:"right",width:200,render:(t,s)=>e.jsxs(I,{size:"middle",children:[e.jsx(d,{type:"link",icon:e.jsx(Q,{}),onClick:()=>M(s),disabled:s.status==="approved"||s.status==="rejected",children:"审核"}),e.jsx(d,{type:"link",icon:e.jsx(E,{}),onClick:()=>z(s),disabled:s.status==="approved"||s.status==="rejected",children:"调价"}),e.jsx(d,{type:"link",icon:e.jsx(J,{}),onClick:()=>V(s),children:"查看"})]})}],y=[{key:"1",settlementId:"JS202403150001",settlementType:"purchase",vin:"LSVAM4187C2184841",partner:"上海汽车贸易有限公司",settlementParty:"上海汽车金融有限公司",amount:15e4,status:"pending",createTime:"2024-03-15 10:00:00"},{key:"2",settlementId:"JS202403150002",settlementType:"sale",vin:"LSVAM4187C2184842",partner:"北京汽车贸易有限公司",settlementParty:"北京汽车金融有限公司",amount:2e5,status:"approved",createTime:"2024-03-15 11:00:00"}],M=t=>{j(t),u(!0)},z=t=>{j(t),m(!0)},V=t=>{console.log("查看详情:",t)},O=async()=>{try{const t=await n.validateFields();console.log("搜索条件:",t),r(!0),setTimeout(()=>{r(!1)},1e3)}catch(t){console.error("表单验证失败:",t)}},F=()=>{n.resetFields()};return e.jsxs("div",{className:R.container,children:[e.jsxs(l,{form:n,layout:"inline",className:R.searchForm,children:[e.jsxs(b,{gutter:24,style:{width:"100%"},children:[e.jsx(c,{span:6,children:e.jsx(l.Item,{name:"settlementId",label:"结算单号",children:e.jsx(g,{placeholder:"请输入结算单号"})})}),e.jsx(c,{span:6,children:e.jsx(l.Item,{name:"settlementType",label:"结算类型",children:e.jsx(S,{placeholder:"请选择结算类型",options:v,allowClear:!0})})}),e.jsx(c,{span:6,children:e.jsx(l.Item,{name:"status",label:"状态",children:e.jsx(S,{placeholder:"请选择状态",options:f,allowClear:!0})})}),e.jsx(c,{span:6,children:e.jsx(l.Item,{name:"amount",label:"金额",children:e.jsx(g,{placeholder:"请输入金额"})})})]}),e.jsx(b,{gutter:24,style:{width:"100%"},children:e.jsx(c,{span:6,children:e.jsx(l.Item,{children:e.jsxs(I,{children:[e.jsx(d,{type:"primary",icon:e.jsx(H,{}),onClick:O,children:"搜索"}),e.jsx(d,{icon:e.jsx($,{}),onClick:F,children:"重置"})]})})})})]}),e.jsx(_,{columns:C,dataSource:y,loading:a,pagination:{total:y.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`共 ${t} 条`},scroll:{x:1500}}),e.jsxs(w,{title:"结算单审核",open:o,onOk:()=>{k.success("审核成功"),u(!1)},onCancel:()=>u(!1),width:600,children:[e.jsx("p",{children:"确定要审核该结算单吗？"}),p&&e.jsxs("p",{style:{color:"#666",fontSize:"14px"},children:["结算单号：",p.settlementId]})]}),e.jsxs(w,{title:"结算单调价",open:T,onOk:()=>{k.success("调价成功"),m(!1)},onCancel:()=>m(!1),width:600,children:[e.jsx("p",{children:"确定要调整该结算单价格吗？"}),p&&e.jsxs("p",{style:{color:"#666",fontSize:"14px"},children:["结算单号：",p.settlementId]})]})]})};export{ae as default};
