import{F as s,r as o,j as e,R as g,a as n,I,S as C,B as d,M as _,s as w}from"./index-DRPHcA5R.js";import{S as T}from"./index-BTE1MxX-.js";import{R as U}from"./SearchOutlined-Djkt78J-.js";import{R as B}from"./ReloadOutlined-C1EXkO3r.js";import{F as L,R as j}from"./Table-CLghJ34T.js";import{T as b}from"./index-D5bt7Jyd.js";import{D}from"./index-DSEt_ENV.js";import{U as M}from"./index-C4aFj8f-.js";import{R as N}from"./PlusOutlined-CYO0dtlp.js";import"./styleChecker-VBj3MALj.js";const V="_container_1ecgw_1",$="_photoGrid_1ecgw_11",A="_photoItem_1ecgw_30",f={container:V,photoGrid:$,photoItem:A},q=({visible:i,onCancel:r,onOk:y,loading:h})=>{const[a]=s.useForm(),[R,u]=o.useState([]),m=async()=>{try{const t=await a.validateFields();y(t)}catch(t){console.error("表单验证失败:",t)}},p=()=>{a.resetFields(),u([]),r()},x={name:"file",multiple:!1,action:"/api/upload",onChange(t){t.file.status==="done"?w.success(`${t.file.name} 上传成功`):t.file.status==="error"&&w.error(`${t.file.name} 上传失败`)}},c=[{name:"leftFront45",label:"左前45度照片"},{name:"leftFrontDoor",label:"左前门含A柱的照片"},{name:"leftRearDoor",label:"左后门的照片"},{name:"rearWheel",label:"后轮轮毂照片"},{name:"centerConsole",label:"中控台照片"},{name:"dashboard",label:"仪表盘照片"},{name:"rightRear45",label:"右后45度照片"},{name:"rightFrontDoor",label:"右前门含A柱的照片"},{name:"nameplate",label:"铭牌照片"},{name:"inventoryForm",label:"商品车入库信息采集表"},{name:"engineBay",label:"发动机舱"}];return e.jsx(_,{title:"上传车辆照片",open:i,onOk:m,onCancel:p,width:800,okText:"确认",cancelText:"取消",confirmLoading:h,bodyStyle:{padding:"24px 24px 0"},children:e.jsxs(s,{form:a,layout:"inline",requiredMark:!1,children:[e.jsxs(g,{gutter:24,style:{width:"100%",marginBottom:16},children:[e.jsx(n,{span:12,children:e.jsx(s.Item,{name:"productionDate",label:"生产日期",rules:[{required:!0,message:"请选择生产日期"}],children:e.jsx(D,{style:{width:"100%"}})})}),e.jsx(n,{span:12,children:e.jsx(s.Item,{name:"hasCertificate",label:"关单/合格证",rules:[{required:!0,message:"请选择是否有关单/合格证"}],children:e.jsxs(j.Group,{children:[e.jsx(j,{value:"yes",children:"有"}),e.jsx(j,{value:"no",children:"无"})]})})})]}),e.jsx("div",{className:f.photoGrid,children:c.map((t,v)=>e.jsx("div",{className:f.photoItem,children:e.jsx(s.Item,{name:t.name,rules:[{required:!0,message:`请上传${t.label}`}],children:e.jsx(M,{...x,listType:"picture-card",maxCount:1,style:{width:"200px"},children:e.jsxs("div",{children:[e.jsx(N,{}),e.jsx("div",{style:{marginTop:8},children:t.label})]})})})},t.name))})]})})},Y=()=>{const[i]=s.useForm(),[r,y]=o.useState(!1),[h,a]=o.useState(!1),[R,u]=o.useState(null),m=[{label:"在库",value:"在库"},{label:"出库中",value:"出库中"},{label:"已出库",value:"已出库"},{label:"维修中",value:"维修中"}],p=[{label:"新车",value:"新车"},{label:"二手车",value:"二手车"},{label:"试驾车",value:"试驾车"}],x=[{title:"车架号",dataIndex:"vin",width:180},{title:"车辆属性",dataIndex:"vehicleType",width:120},{title:"产品类型",dataIndex:"productType",width:120,render:l=>e.jsx(b,{color:l==="新车"?"blue":l==="二手车"?"green":"orange",children:l})},{title:"业务单号",dataIndex:"businessNo",width:150},{title:"客户",dataIndex:"customer",width:120},{title:"停放仓库",dataIndex:"warehouse",width:150},{title:"车辆库龄",dataIndex:"storageAge",width:100,render:l=>`${l}天`},{title:"Gps状态",dataIndex:"gpsStatus",width:100,render:l=>e.jsx(b,{color:l==="在线"?"success":"error",children:l})},{title:"车辆状态",dataIndex:"vehicleStatus",width:100,render:l=>e.jsx(b,{color:l==="在库"?"success":l==="出库中"?"warning":l==="已出库"?"default":"error",children:l})},{title:"操作",key:"action",fixed:"right",width:180,render:(l,S)=>e.jsxs(C,{size:"middle",children:[e.jsx(d,{type:"link",onClick:()=>F(S),children:"上传照片"}),e.jsx(d,{type:"link",onClick:()=>k(S),children:"查看"})]})}],[c]=o.useState([{key:"1",vin:"LVGBE40K8GP123456",vehicleType:"SUV",productType:"新车",businessNo:"BUS20240301001",customer:"张三",warehouse:"上海中心仓库",storageAge:15,gpsStatus:"在线",vehicleStatus:"在库"},{key:"2",vin:"LVGBE40K8GP123457",vehicleType:"轿车",productType:"二手车",businessNo:"BUS20240301002",customer:"李四",warehouse:"北京分仓",storageAge:30,gpsStatus:"离线",vehicleStatus:"出库中"}]),t=l=>{console.log("搜索条件:",l)},v=()=>{i.resetFields()},k=l=>{console.log("查看车辆详情:",l)},F=l=>{u(l),a(!0)},G=l=>{console.log("上传数据:",l),w.success("上传成功"),a(!1)};return e.jsxs("div",{className:f.container,children:[e.jsxs(s,{form:i,onFinish:t,layout:"inline",children:[e.jsxs(g,{gutter:24,style:{width:"100%"},children:[e.jsx(n,{span:8,children:e.jsx(s.Item,{name:"vin",label:"车架号",children:e.jsx(I,{placeholder:"请输入车架号",allowClear:!0})})}),e.jsx(n,{span:8,children:e.jsx(s.Item,{name:"businessNo",label:"业务单号",children:e.jsx(I,{placeholder:"请输入业务单号",allowClear:!0})})}),e.jsx(n,{span:8,children:e.jsx(s.Item,{name:"vehicleStatus",label:"车辆状态",children:e.jsx(T,{placeholder:"请选择车辆状态",allowClear:!0,options:m})})})]}),e.jsxs(g,{style:{width:"100%"},children:[e.jsx(n,{span:8,children:e.jsx(s.Item,{name:"productType",label:"产品类型",children:e.jsx(T,{placeholder:"请选择产品类型",allowClear:!0,options:p})})}),e.jsx(n,{span:16,children:e.jsxs(C,{children:[e.jsx(d,{icon:e.jsx(U,{}),type:"primary",htmlType:"submit",loading:r,children:"查询"}),e.jsx(d,{icon:e.jsx(B,{}),onClick:v,children:"重置"})]})})]})]}),e.jsx(L,{columns:x,dataSource:c,loading:r,pagination:{total:c.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:l=>`共 ${l} 条`},scroll:{x:1500}}),e.jsx(q,{visible:h,onCancel:()=>a(!1),onOk:G,loading:r})]})};export{Y as default};
