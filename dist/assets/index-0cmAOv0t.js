import{r as i,F as a,u as T,e as P,j as t,C as R,I as h,S as p,B as o}from"./index-D2rM6ovj.js";import{S as d}from"./index-Bqt44OL4.js";import{R as V}from"./SearchOutlined-B9eb8B1y.js";import{R as _}from"./ReloadOutlined-CX0q1di8.js";import{F as D}from"./Table-B7m-L3lW.js";import{T as E}from"./index-DyjoH_LA.js";import"./styleChecker-CcZ-Kr6E.js";const L="_priceCheck_1mq25_1",M={priceCheck:L},{Option:n}=d,J=()=>{const[c,l]=i.useState(!1),[u,x]=i.useState([]),[O,I]=i.useState(!1),[$,v]=i.useState(null),[r]=a.useForm(),m=T(),g=[{orderId:"YH202505230922293374",productName:"订单宝-银行精选",createTime:1747991317e3,guidePrice:45e4,modelName:"奥迪A7L 2024款 45 TFSI quattro 黑武士版",exterior:"黑色",interior:"黑色",vehicleId:"V001",vin:"J4MB7E3FXY0B1C48X",status:"pending"},{orderId:"YH202505230919583236",productName:"订单宝-银行精选",createTime:1747967828e3,guidePrice:38e4,modelName:"奥迪A7L 2024款 45 TFSI 豪华型",exterior:"白色",interior:"棕色",vehicleId:"V002",vin:"P0W7HHW583SZPE1W4",status:"processing"}],j=[{label:"待处理",value:"pending"},{label:"处理中",value:"processing"},{label:"已完成",value:"completed"}],w=[{label:"待确认",value:"unconfirmed"},{label:"已确认",value:"confirmed"},{label:"已取消",value:"cancelled"}],k=[{label:"未开始",value:"not_started"},{label:"进行中",value:"in_progress"},{label:"已完成",value:"finished"},{label:"已暂停",value:"paused"}],S=async()=>{try{l(!0);const e=await r.validateFields();console.log("Search values:",e)}catch(e){console.error("Search error:",e)}finally{l(!1)}},b=e=>{m(`/orderManage/detail/${e}`)},y=[{title:"订单号",dataIndex:"orderId",key:"orderId",width:180,render:e=>t.jsx("a",{onClick:()=>b(e),children:e})},{title:"产品名称",dataIndex:"productName",key:"productName",width:150},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180,render:e=>new Date(e).toLocaleString()},{title:"厂商指导价",dataIndex:"guidePrice",key:"guidePrice",width:120,render:e=>`¥${e.toLocaleString()}`},{title:"车型",dataIndex:"modelName",key:"modelName",width:250},{title:"外观",dataIndex:"exterior",key:"exterior",width:100},{title:"内饰",dataIndex:"interior",key:"interior",width:100},{title:"车辆ID",dataIndex:"vehicleId",key:"vehicleId",width:100},{title:"车架号",dataIndex:"vin",key:"vin",width:180},{title:"状态",dataIndex:"status",key:"status",width:100,render:e=>{const s={pending:{color:"warning",text:"待处理"},processing:{color:"processing",text:"处理中"},completed:{color:"success",text:"已完成"}},{color:N,text:F}=s[e];return t.jsx(E,{color:N,children:F})}},{title:"操作",key:"action",width:120,render:(e,s)=>t.jsx(p,{size:"middle",children:t.jsx(o,{type:"primary",size:"small",onClick:()=>C(s),disabled:s.status==="completed",children:"核价处理"})})}],C=e=>{v(e),I(!0),r.setFieldsValue({orderId:e.orderId,modelName:e.modelName,guidePrice:e.guidePrice}),m(`/taskCenter/priceCheckDetail/${e.orderId}`)};P.useEffect(()=>{l(!0),setTimeout(()=>{x(g),l(!1)},1e3)},[]);const f=()=>{r.resetFields()};return t.jsx("div",{className:M.priceCheck,children:t.jsxs(R,{children:[t.jsxs(a,{form:r,layout:"inline",className:"mb-12",children:[t.jsx(a.Item,{name:"orderNumber",label:"订单号",children:t.jsx(h,{placeholder:"请输入订单号",allowClear:!0})}),t.jsx(a.Item,{name:"dealer",label:"经销商",children:t.jsx(h,{placeholder:"请输入经销商",allowClear:!0})}),t.jsx(a.Item,{name:"progressStatus",label:"进度状态",children:t.jsx(d,{mode:"multiple",placeholder:"请选择进度状态",style:{width:200},allowClear:!0,children:j.map(e=>t.jsx(n,{value:e.value,children:e.label},e.value))})}),t.jsx(a.Item,{name:"orderStatus",label:"订单状态",children:t.jsx(d,{mode:"multiple",placeholder:"请选择订单状态",style:{width:200},allowClear:!0,children:w.map(e=>t.jsx(n,{value:e.value,children:e.label},e.value))})}),t.jsx(a.Item,{name:"taskStatus",label:"任务状态",children:t.jsx(d,{mode:"multiple",placeholder:"请选择任务状态",style:{width:200},allowClear:!0,children:k.map(e=>t.jsx(n,{value:e.value,children:e.label},e.value))})}),t.jsx(a.Item,{children:t.jsxs(p,{children:[t.jsx(o,{type:"primary",icon:t.jsx(V,{}),onClick:S,loading:c,children:"查询"}),t.jsx(o,{icon:t.jsx(_,{}),onClick:f,children:"重置"})]})})]}),t.jsx(D,{columns:y,dataSource:u,loading:c,rowKey:"vehicleId",scroll:{x:1500},pagination:{total:u.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:e=>`共 ${e} 条`}})]})})};export{J as default};
