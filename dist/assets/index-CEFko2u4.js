import{r as x,F as a,j as e,C,R as h,a as n,I as i,S as m,B as d,s as o,M as S}from"./index-CyB-NFsd.js";import{s as L}from"./index.module-CBa0FrbO.js";import{F as P}from"./Table-BaXE-4d7.js";import{T as g}from"./index-DcDq0_r1.js";import"./styleChecker-BxO4dLT-.js";import"./index-CyGbgfxR.js";const M=()=>{const[l,s]=x.useState(!1),[c]=a.useForm(),[u,p]=x.useState([{id:"1",name:"测试企业1",creditCode:"91110105MA12345678",legalPerson:"张三",legalPersonId:"110101199001011234",legalSignature:"张三",companySignature:"李四",contactPerson:"王五",businessAddress:"北京市朝阳区xxx街道",creditLevel:"A",creditLimit:1e6,status:"黑名单"}]),y=t=>{S.confirm({title:"确认移除黑名单",content:`确定要将商家"${t.name}"从黑名单中移除吗？`,okText:"确认",cancelText:"取消",onOk:async()=>{try{s(!0),p(u.map(r=>r.id===t.id?{...r,status:"正常"}:r)),o.success("已从黑名单中移除")}catch{o.error("操作失败")}finally{s(!1)}}})},j=async t=>{try{s(!0),console.log("搜索条件：",t)}catch{o.error("搜索失败")}finally{s(!1)}},k=()=>{c.resetFields()},I=t=>{switch(t){case"待审核":return"warning";case"正常":return"success";case"黑名单":return"error";default:return"default"}},w=t=>{switch(t){case"A":return"success";case"B":return"processing";case"C":return"warning";case"D":return"error";default:return"default"}},f=[{title:"商家名称",dataIndex:"name",key:"name"},{title:"统一社会信用代码",width:160,dataIndex:"creditCode",key:"creditCode"},{title:"法人代表",dataIndex:"legalPerson",key:"legalPerson"},{title:"法人代表身份证",width:160,dataIndex:"legalPersonId",key:"legalPersonId"},{title:"法人签章人",width:120,dataIndex:"legalSignature",key:"legalSignature"},{title:"企业签章人",width:120,dataIndex:"companySignature",key:"companySignature"},{title:"联系人",width:120,dataIndex:"contactPerson",key:"contactPerson"},{title:"经营场所",dataIndex:"businessAddress",key:"businessAddress"},{title:"商家信用等级",dataIndex:"creditLevel",key:"creditLevel",render:t=>e.jsx(g,{color:w(t),children:t})},{title:"授信额度",dataIndex:"creditLimit",key:"creditLimit",render:t=>`¥${t.toLocaleString()}`},{title:"状态",dataIndex:"status",key:"status",render:t=>e.jsx(g,{color:I(t),children:t})},{title:"操作",key:"action",fixed:"right",render:(t,r)=>e.jsx(m,{size:"middle",children:r.status==="黑名单"&&e.jsx(d,{type:"link",onClick:()=>y(r),loading:l,children:"移除黑名单"})})}];return e.jsxs("div",{children:[e.jsx(C,{className:"mb-16",children:e.jsxs(a,{form:c,onFinish:j,layout:"inline",children:[e.jsxs(h,{gutter:24,children:[e.jsx(n,{span:8,children:e.jsx(a.Item,{name:"name",label:"商家名称",children:e.jsx(i,{placeholder:"请输入商家名称",allowClear:!0})})}),e.jsx(n,{span:9,children:e.jsx(a.Item,{name:"creditCode",label:"统一社会信用代码",children:e.jsx(i,{placeholder:"请输入统一社会信用代码",allowClear:!0})})}),e.jsx(n,{span:7,children:e.jsx(a.Item,{name:"legalPerson",label:"法人代表",children:e.jsx(i,{placeholder:"请输入法人代表",allowClear:!0})})})]}),e.jsx(h,{children:e.jsx(n,{span:24,style:{textAlign:"right"},children:e.jsxs(m,{children:[e.jsx(d,{onClick:k,children:"重置"}),e.jsx(d,{type:"primary",htmlType:"submit",loading:l,children:"查询"})]})})})]})}),e.jsx("div",{className:L.container,children:e.jsx(P,{columns:f,dataSource:u,rowKey:"id",loading:l,pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`共 ${t} 条`},scroll:{x:1500}})})]})};export{M as default};
