import{r as i,c as T,b4 as H,F as o,j as e,R as b,a as c,I,S as w,B as d,M as k,s as S}from"./index-D2rM6ovj.js";import{S as R}from"./index-Bqt44OL4.js";import{R as E}from"./SearchOutlined-B9eb8B1y.js";import{R as _}from"./ReloadOutlined-CX0q1di8.js";import{F as B}from"./Table-B7m-L3lW.js";import{T as J}from"./index-DyjoH_LA.js";import{R as L}from"./DollarOutlined-D-itq-Vj.js";import{D}from"./index-C__vpxeC.js";import"./styleChecker-CcZ-Kr6E.js";var N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"};function x(){return x=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r])}return n},x.apply(this,arguments)}const Q=(n,s)=>i.createElement(T,x({},n,{ref:s,icon:N})),q=i.forwardRef(Q);function j(){return j=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(n[r]=l[r])}return n},j.apply(this,arguments)}const G=(n,s)=>i.createElement(T,j({},n,{ref:s,icon:H})),K=i.forwardRef(G),U="_container_1iukc_1",O={container:U},{RangePicker:le}=D,re=()=>{const[n]=o.useForm(),[s,l]=i.useState(!1),[r,u]=i.useState(!1),[C,h]=i.useState(!1),[p,f]=i.useState(null),v=[{label:"采购结算",value:"purchase"},{label:"销售结算",value:"sale"},{label:"服务费结算",value:"service"},{label:"其他",value:"other"}],y=[{label:"待审核",value:"pending"},{label:"审核中",value:"processing"},{label:"已通过",value:"approved"},{label:"已拒绝",value:"rejected"}],M=[{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180},{title:"结算单号",dataIndex:"settlementId",key:"settlementId",width:180},{title:"结算类型",dataIndex:"settlementType",key:"settlementType",width:120,render:t=>{const a=v.find(m=>m.value===t);return a?a.label:t}},{title:"车架号",dataIndex:"vin",key:"vin",width:180},{title:"合作方",dataIndex:"partner",key:"partner",width:150},{title:"结算方",dataIndex:"settlementParty",key:"settlementParty",width:150},{title:"金额",dataIndex:"amount",key:"amount",width:120,render:t=>`¥${t.toFixed(2)}`},{title:"状态",dataIndex:"status",key:"status",width:100,render:t=>{const a=y.find(A=>A.value===t),m={pending:"orange",processing:"blue",approved:"green",rejected:"red"};return a?e.jsx(J,{color:m[t],children:a.label}):t}},{title:"操作",key:"action",fixed:"right",width:200,render:(t,a)=>e.jsxs(w,{size:"middle",children:[e.jsx(d,{type:"link",icon:e.jsx(q,{}),onClick:()=>z(a),disabled:a.status==="approved"||a.status==="rejected",children:"审核"}),e.jsx(d,{type:"link",icon:e.jsx(L,{}),onClick:()=>V(a),disabled:a.status==="approved"||a.status==="rejected",children:"调价"}),e.jsx(d,{type:"link",icon:e.jsx(K,{}),onClick:()=>P(a),children:"查看"})]})}],g=[{key:"1",settlementId:"JS202403150001",settlementType:"purchase",vin:"LSVAM4187C2184841",partner:"上海汽车贸易有限公司",settlementParty:"上海汽车金融有限公司",amount:15e4,status:"pending",createTime:"2024-03-15 10:00:00"},{key:"2",settlementId:"JS202403150002",settlementType:"sale",vin:"LSVAM4187C2184842",partner:"北京汽车贸易有限公司",settlementParty:"北京汽车金融有限公司",amount:2e5,status:"approved",createTime:"2024-03-15 11:00:00"}],z=t=>{f(t),u(!0)},V=t=>{f(t),h(!0)},P=t=>{console.log("查看详情:",t)},F=async()=>{try{const t=await n.validateFields();console.log("搜索条件:",t),l(!0),setTimeout(()=>{l(!1)},1e3)}catch(t){console.error("表单验证失败:",t)}},$=()=>{n.resetFields()};return e.jsxs("div",{className:O.container,children:[e.jsxs(o,{form:n,layout:"inline",className:O.searchForm,children:[e.jsxs(b,{gutter:24,style:{width:"100%"},children:[e.jsx(c,{span:6,children:e.jsx(o.Item,{name:"settlementId",label:"结算单号",children:e.jsx(I,{placeholder:"请输入结算单号"})})}),e.jsx(c,{span:6,children:e.jsx(o.Item,{name:"settlementType",label:"结算类型",children:e.jsx(R,{placeholder:"请选择结算类型",options:v,allowClear:!0})})}),e.jsx(c,{span:6,children:e.jsx(o.Item,{name:"status",label:"状态",children:e.jsx(R,{placeholder:"请选择状态",options:y,allowClear:!0})})}),e.jsx(c,{span:6,children:e.jsx(o.Item,{name:"amount",label:"金额",children:e.jsx(I,{placeholder:"请输入金额"})})})]}),e.jsx(b,{gutter:24,style:{width:"100%"},children:e.jsx(c,{span:6,children:e.jsx(o.Item,{children:e.jsxs(w,{children:[e.jsx(d,{type:"primary",icon:e.jsx(E,{}),onClick:F,children:"搜索"}),e.jsx(d,{icon:e.jsx(_,{}),onClick:$,children:"重置"})]})})})})]}),e.jsx(B,{columns:M,dataSource:g,loading:s,pagination:{total:g.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`共 ${t} 条`},scroll:{x:1500}}),e.jsxs(k,{title:"结算单审核",open:r,onOk:()=>{S.success("审核成功"),u(!1)},onCancel:()=>u(!1),width:600,children:[e.jsx("p",{children:"确定要审核该结算单吗？"}),p&&e.jsxs("p",{style:{color:"#666",fontSize:"14px"},children:["结算单号：",p.settlementId]})]}),e.jsxs(k,{title:"结算单调价",open:C,onOk:()=>{S.success("调价成功"),h(!1)},onCancel:()=>h(!1),width:600,children:[e.jsx("p",{children:"确定要调整该结算单价格吗？"}),p&&e.jsxs("p",{style:{color:"#666",fontSize:"14px"},children:["结算单号：",p.settlementId]})]})]})};export{re as default};
