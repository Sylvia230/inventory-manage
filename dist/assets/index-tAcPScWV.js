import{F as a,r as i,j as e,R as z,a as o,I as u,S as E,B as s,M as k,s as I}from"./index-CWI3fkxO.js";import{S as r}from"./index-BJpRcchK.js";import{R as M}from"./SearchOutlined-CIltYwOO.js";import{R as T}from"./ReloadOutlined-D9lZZhDi.js";import{R as $}from"./PlusOutlined-DRIVM7Z2.js";import{F as q}from"./Table-CbVTz4in.js";import"./styleChecker-BWbRVJUg.js";const O="_container_1iukc_1",R={container:O},L=()=>{const[c]=a.useForm(),[y,p]=i.useState(!1),[b,n]=i.useState(!1),[h,m]=i.useState(!1),[w,d]=i.useState(null),[t]=a.useForm(),x=[{label:"新车",value:"new_car"},{label:"二手车",value:"used_car"},{label:"试驾车",value:"test_car"}],j=[{label:"上海银行",value:"shanghai_bank"},{label:"北京金融租赁",value:"beijing_finance"},{label:"广州融资租赁",value:"guangzhou_leasing"}],F=[{title:"ID",dataIndex:"id",key:"id",width:180},{title:"法律关系名称",dataIndex:"legalRelationName",key:"legalRelationName",width:200},{title:"资方",dataIndex:"capital",key:"capital",width:150},{title:"产品名",dataIndex:"product",key:"product",width:120},{title:"手机号",dataIndex:"phone",key:"phone",width:150},{title:"操作",key:"action",fixed:"right",width:100,render:(l,f)=>e.jsxs("span",{children:[e.jsx(s,{size:"small",type:"link",onClick:()=>S(f),children:"修改"}),e.jsx(s,{size:"small",type:"link",danger:!0,onClick:()=>v(f),children:"删除"})]})}],g=[{key:"1",id:"YW202403150001",legalRelationName:"融资租赁合同",capital:"上海银行",product:"新车",phone:"13800138000"},{key:"2",id:"YW202403150002",legalRelationName:"买卖合同",capital:"北京金融租赁",product:"二手车",phone:"13900139000"}],C=()=>{m(!1),d(null),t.resetFields(),n(!0)},S=l=>{m(!0),d(l),t.setFieldsValue({legalRelationName:l.legalRelationName,capital:l.capital,product:l.product,phone:l.phone}),n(!0)},v=l=>{k.confirm({title:"确认删除",content:`确定要删除法律关系"${l.legalRelationName}"吗？`,okText:"确认",cancelText:"取消",onOk:()=>{I.success("删除成功")}})},N=async()=>{try{const l=await c.validateFields();console.log("搜索条件:",l),p(!0),setTimeout(()=>{p(!1)},1e3)}catch(l){console.error("表单验证失败:",l)}},_=()=>{c.resetFields()};return e.jsxs("div",{className:R.container,children:[e.jsx(a,{form:c,layout:"inline",className:R.searchForm,children:e.jsxs(z,{gutter:24,style:{width:"100%"},children:[e.jsx(o,{span:8,children:e.jsx(a.Item,{name:"legalRelationName",label:"法律关系名称",children:e.jsx(u,{placeholder:"请输入法律关系名称"})})}),e.jsx(o,{span:8,children:e.jsx(a.Item,{name:"product",label:"产品",children:e.jsx(r,{placeholder:"请选择产品",options:x,allowClear:!0})})}),e.jsx(o,{span:8,children:e.jsx(a.Item,{name:"capital",label:"资方",children:e.jsx(r,{placeholder:"请选择资方",options:j,allowClear:!0})})}),e.jsx(o,{span:24,children:e.jsx(a.Item,{children:e.jsxs(E,{children:[e.jsx(s,{type:"primary",icon:e.jsx(M,{}),onClick:N,children:"搜索"}),e.jsx(s,{icon:e.jsx(T,{}),onClick:_,children:"重置"}),e.jsx(s,{type:"primary",icon:e.jsx($,{}),onClick:C,children:"新增"})]})})})]})}),e.jsx(q,{columns:F,dataSource:g,loading:y,pagination:{total:g.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:l=>`共 ${l} 条`},scroll:{x:1200}}),e.jsx(k,{title:h?"编辑业务配置":"新增业务配置",open:b,onOk:()=>{t.validateFields().then(l=>{console.log("表单数据:",l),I.success(h?"修改成功":"新增成功"),n(!1),t.resetFields()})},onCancel:()=>{n(!1),d(null),t.resetFields()},width:600,children:e.jsxs(a,{form:t,layout:"vertical",initialValues:w||{},children:[e.jsx(a.Item,{name:"legalRelationName",label:"法律关系名称",rules:[{required:!0,message:"请输入法律关系名称"}],children:e.jsx(u,{placeholder:"请输入法律关系名称"})}),e.jsx(a.Item,{name:"capital",label:"资方",rules:[{required:!0,message:"请选择资方"}],children:e.jsx(r,{placeholder:"请选择资方",options:j})}),e.jsx(a.Item,{name:"product",label:"产品",rules:[{required:!0,message:"请选择产品"}],children:e.jsx(r,{placeholder:"请选择产品",options:x})}),e.jsx(a.Item,{name:"phone",label:"手机号",rules:[{required:!0,message:"请输入手机号"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}],children:e.jsx(u,{placeholder:"请输入手机号"})})]})})]})};export{L as default};
