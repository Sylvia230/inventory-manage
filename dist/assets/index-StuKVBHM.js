import{F as a,r as d,j as e,R as u,a as s,I as x,S as v,B as n,M as F,s as j}from"./index-jJHowT7b.js";import{S as z}from"./index-CAebDaVx.js";import{R as M}from"./SearchOutlined-C0W0peK-.js";import{R as B}from"./ReloadOutlined-BHysQfLN.js";import{F as _}from"./Table-Dbz0OIGN.js";import"./Pagination-BWny1OkO.js";const D="_container_1iukc_1",y={container:D},P=()=>{const[o]=a.useForm(),[k,m]=d.useState(!1),[f,r]=d.useState(!1),[i,c]=d.useState(null),h=[{label:"购车合同",value:"purchase"},{label:"租赁合同",value:"lease"},{label:"服务合同",value:"service"},{label:"其他",value:"other"}],g=[{title:"编号",dataIndex:"templateNo",key:"templateNo",width:180},{title:"名称",dataIndex:"name",key:"name",width:200},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:180},{title:"修改时间",dataIndex:"updateTime",key:"updateTime",width:180},{title:"合同类型",dataIndex:"type",key:"type",width:120,render:t=>{const l=h.find(R=>R.value===t);return l?l.label:t}},{title:"资方合同名称",dataIndex:"fundContractName",key:"fundContractName",width:200},{title:"操作",key:"action",fixed:"right",width:180,render:(t,l)=>e.jsxs("span",{children:[e.jsx(n,{size:"small",type:"link",onClick:()=>w(l),children:"编辑"}),e.jsx(n,{type:"link",size:"small",danger:!0,onClick:()=>C(l),children:"删除"}),e.jsx(n,{size:"small",type:"link",onClick:()=>S(l),children:"设置签章位置"}),e.jsx(n,{size:"small",type:"link",onClick:()=>T(l),children:"校验"})]})}],p=[{key:"1",templateNo:"MB202403150001",name:"标准购车合同模板",createTime:"2024-03-15 10:00:00",updateTime:"2024-03-15 10:00:00",type:"purchase",fundContractName:"上海银行购车合同"},{key:"2",templateNo:"MB202403150002",name:"标准租赁合同模板",createTime:"2024-03-15 11:00:00",updateTime:"2024-03-15 11:00:00",type:"lease",fundContractName:"北京银行租赁合同"}],w=t=>{console.log("编辑模板:",t)},C=t=>{c(t),r(!0)},I=async()=>{try{console.log("删除模板:",i),j.success("删除成功"),r(!1),c(null)}catch(t){console.error("删除失败:",t),j.error("删除失败")}},S=t=>{console.log("设置签章位置:",t)},T=t=>{console.log("校验模板:",t)},N=async()=>{try{const t=await o.validateFields();console.log("搜索条件:",t),m(!0),setTimeout(()=>{m(!1)},1e3)}catch(t){console.error("表单验证失败:",t)}},b=()=>{o.resetFields()};return e.jsxs("div",{className:y.container,children:[e.jsxs(a,{form:o,layout:"inline",className:y.searchForm,children:[e.jsxs(u,{gutter:24,style:{width:"100%"},children:[e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"templateNo",label:"模板编号",children:e.jsx(x,{placeholder:"请输入模板编号"})})}),e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"name",label:"合同模板名称",children:e.jsx(x,{placeholder:"请输入合同模板名称"})})}),e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"type",label:"合同类型",children:e.jsx(z,{placeholder:"请选择合同类型",options:h,allowClear:!0})})})]}),e.jsx(u,{gutter:24,style:{width:"100%"},children:e.jsx(s,{span:8,children:e.jsx(a.Item,{children:e.jsxs(v,{children:[e.jsx(n,{type:"primary",icon:e.jsx(M,{}),onClick:N,children:"搜索"}),e.jsx(n,{icon:e.jsx(B,{}),onClick:b,children:"重置"})]})})})})]}),e.jsx(_,{columns:g,dataSource:p,loading:k,pagination:{total:p.length,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`共 ${t} 条`},scroll:{x:1500}}),e.jsxs(F,{title:"删除确认",open:f,onOk:I,onCancel:()=>{r(!1),c(null)},okText:"确认",cancelText:"取消",okButtonProps:{danger:!0},children:[e.jsx("p",{children:"确定要删除该合同模板吗？"}),i&&e.jsxs("p",{style:{color:"#666",fontSize:"14px"},children:["模板编号：",i.templateNo]})]})]})};export{P as default};
