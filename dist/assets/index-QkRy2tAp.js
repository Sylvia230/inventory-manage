import{r as o,F as a,j as e,R as p,a as s,I as m,S as E,B as i,M as G,s as x}from"./index-CyB-NFsd.js";import{S as c}from"./index-CyGbgfxR.js";import{R as K}from"./SearchOutlined-CamhycLw.js";import{R as L}from"./ReloadOutlined-Cn7tDfkN.js";import{F as w}from"./Table-BaXE-4d7.js";import{T as j}from"./index-DcDq0_r1.js";import"./styleChecker-BxO4dLT-.js";const O="_container_g8pzx_1",_={container:O},X=()=>{const[d,u]=o.useState(!1),[h]=a.useForm(),[S,n]=o.useState(!1),[f,r]=o.useState([]),[D,v]=o.useState(null),[b,$]=o.useState([{id:"1",customerName:"客户A",applicationNo:"APP202403200001",productName:"产品A",status:"待推送",vehicleCount:5,depositStatus:"已缴纳",batchNo:"BATCH202403200001",approver:"张三",investorName:"投资方A",batchAmount:1e6,createTime:"2024-03-20 10:00:00"},{id:"2",customerName:"客户B",applicationNo:"APP202403200002",productName:"产品B",status:"已推送",vehicleCount:3,depositStatus:"部分缴纳",batchNo:"BATCH202403200002",approver:"李四",investorName:"投资方B",batchAmount:2e6,createTime:"2024-03-20 11:00:00"}]),y=async t=>{try{u(!0),console.log("搜索条件：",t)}catch(l){console.error("搜索失败:",l)}finally{u(!1)}},C=()=>{h.resetFields()},I=t=>{switch(t){case"待推送":return"warning";case"已推送":return"success";case"推送失败":return"error";default:return"default"}},g=t=>{switch(t){case"已缴纳":return"success";case"未缴纳":return"error";case"部分缴纳":return"warning";default:return"default"}},k=[{title:"客户名称",dataIndex:"customerName",key:"customerName",width:120},{title:"申请单号",dataIndex:"applicationNo",key:"applicationNo",width:150},{title:"产品名称",dataIndex:"productName",key:"productName",width:120},{title:"状态",dataIndex:"status",key:"status",width:100,render:t=>e.jsx(j,{color:I(t),children:t})},{title:"车辆数量",dataIndex:"vehicleCount",key:"vehicleCount",width:100},{title:"保证金状态",dataIndex:"depositStatus",key:"depositStatus",width:100,render:t=>e.jsx(j,{color:g(t),children:t})},{title:"批次编号",dataIndex:"batchNo",key:"batchNo",width:150},{title:"审批人",dataIndex:"approver",key:"approver",width:100},{title:"资方名称",dataIndex:"investorName",key:"investorName",width:120},{title:"批次金额",dataIndex:"batchAmount",key:"batchAmount",width:120,render:t=>`¥${t.toLocaleString()}`},{title:"创建时间",dataIndex:"createTime",key:"createTime",width:160},{title:"操作",key:"action",fixed:"right",width:120,render:(t,l)=>e.jsx("span",{children:e.jsx(i,{type:"link",onClick:()=>N(l),children:"推送"})})}],N=t=>{v(t),n(!0),r([])},T=[{label:"待审核",value:"待审核"},{label:"审核中",value:"审核中"},{label:"已审核",value:"已审核"},{label:"已驳回",value:"已驳回"}],A=[{label:"待支付",value:"待支付"},{label:"已支付",value:"已支付"},{label:"已取消",value:"已取消"},{label:"已完成",value:"已完成"}],P=[{label:"待推送",value:"待推送"},{label:"已推送",value:"已推送"},{label:"推送失败",value:"推送失败"}],R=[{title:"车架号",dataIndex:"vin",width:180},{title:"车规",dataIndex:"specification",width:120},{title:"车辆属性",dataIndex:"attributes",width:120},{title:"预授信状态",dataIndex:"creditStatus",width:120,render:t=>e.jsx("span",{style:{color:t==="已授信"?"#52c41a":"#ff4d4f"},children:t})},{title:"贷款申请状态",dataIndex:"loanStatus",width:120,render:t=>e.jsx("span",{style:{color:t==="已通过"?"#52c41a":"#ff4d4f"},children:t})}],B=[{key:"1",vin:"LVGBE40K8GP123456",specification:"标准版",attributes:"新车",creditStatus:"已授信",loanStatus:"已通过"},{key:"2",vin:"LVGBE40K8GP123457",specification:"豪华版",attributes:"二手车",creditStatus:"未授信",loanStatus:"审核中"}],F=()=>{if(f.length===0){x.warning("请选择至少一辆车");return}x.success("推送成功"),n(!1)},V=()=>{n(!1),r([])},M={onChange:(t,l)=>{r(l)}};return e.jsxs("div",{className:_.container,children:[e.jsxs(a,{form:h,onFinish:y,layout:"inline",children:[e.jsxs(p,{gutter:24,style:{width:"100%"},children:[e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"orderNo",label:"订单号",children:e.jsx(m,{placeholder:"请输入订单号",allowClear:!0})})}),e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"dealer",label:"经销商",children:e.jsx(m,{placeholder:"请输入经销商",allowClear:!0})})}),e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"progressStatus",label:"进度状态",children:e.jsx(c,{mode:"multiple",placeholder:"请选择进度状态",allowClear:!0,options:T,maxTagCount:"responsive"})})})]}),e.jsxs(p,{gutter:24,style:{width:"100%"},children:[e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"orderStatus",label:"订单状态",children:e.jsx(c,{mode:"multiple",placeholder:"请选择订单状态",allowClear:!0,options:A,maxTagCount:"responsive"})})}),e.jsx(s,{span:8,children:e.jsx(a.Item,{name:"taskStatus",label:"任务状态",children:e.jsx(c,{mode:"multiple",placeholder:"请选择任务状态",allowClear:!0,options:P,maxTagCount:"responsive"})})}),e.jsx(s,{span:8,children:e.jsxs(E,{children:[e.jsx(i,{icon:e.jsx(K,{}),type:"primary",htmlType:"submit",loading:d,children:"查询"}),e.jsx(i,{icon:e.jsx(L,{}),onClick:C,children:"重置"})]})})]})]}),e.jsx(w,{columns:k,dataSource:b,rowKey:"id",loading:d,scroll:{x:1500},pagination:{showSizeChanger:!0,showQuickJumper:!0,showTotal:t=>`共 ${t} 条`}}),e.jsx(G,{title:"选择推送车辆",open:S,onOk:F,onCancel:V,width:1e3,okText:"确认推送",cancelText:"取消",children:e.jsx(w,{columns:R,dataSource:B,rowSelection:{type:"checkbox",...M},pagination:!1,scroll:{y:400}})})]})};export{X as default};
